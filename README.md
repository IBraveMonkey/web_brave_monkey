# Brave Monkey Web Site

## Обзор

Это изолированное веб-приложение аутентификации, построенное с использованием React, TypeScript и Vite. Оно предоставляет функциональность аутентификации пользователей, включая вход в систему, регистрацию, подтверждение электронной почты, восстановление пароля и управление профилем пользователя. Приложение служит фронтендом для аутентификации пользователей и взаимодействует с отдельным бэкенд-сервисом.

## Функции

- Регистрация пользователей с подтверждением по электронной почте
- Функции входа и выхода из системы
- Восстановление и сброс пароля
- Управление профилем пользователя
- Доступ к панели управления для аутентифицированных пользователей
- Интерфейс чата для аутентифицированных пользователей
- Мониторинг статуса API
- Поддержка нескольких языков (i18n)
- Поддержка тем (светлая/темная тема)
- Защищенные маршруты только для аутентифицированных пользователей
- Адаптивный дизайн для мобильных устройств и настольных компьютеров

## Технологический стек

- **Фронтенд фреймворк**: React 18
- **Язык программирования**: TypeScript
- **Инструмент сборки**: Vite
- **Роутер**: React Router DOM
- **Стилизация**: CSS с модульным подходом
- **Управление состоянием**: React Context API
- **Контейнеризация**: Docker & Docker Compose
- **Веб-сервер**: Nginx

## Предварительные требования

Перед запуском этого приложения убедитесь, что у вас установлено следующее:

- Node.js (v18 или выше)
- npm или yarn
- Docker и Docker Compose (для контейнеризованного развертывания)
- Git

## Зависимость от бэкенда

**Важно**: Для правильной работы этому приложению аутентификации требуется отдельный бэкенд-сервис. Бэкенд-сервис должен работать на порту `8765` и предоставлять API-эндпоинты по пути `/api`.

Бэкенд-сервис находится в отдельном проекте и должен запускаться независимо. Фронтенд проксирует API-запросы на `http://localhost:8765` во время разработки и на бэкенд-сервис в продакшене.

## Установка и настройка

### Режим разработки

1. Клонируйте репозиторий:
   ```bash
   git clone <ссылка-на-репозиторий>
   cd brave-monkey-web-site
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Запустите сервер разработки:
   ```bash
   npm run dev
   ```

4. Приложение будет доступно по адресу `http://localhost:3000`

5. **Важно**: Убедитесь, что бэкенд-сервис запущен на `http://localhost:8765`, чтобы функции аутентификации работали должным образом.

### Сборка для продакшена

1. Соберите приложение:
   ```bash
   npm run build
   ```

2. Файлы для продакшена будут сгенерированы в директории `dist`.

3. Разверните приложение с помощью веб-сервера, например Nginx или Apache.

### Развертывание с Docker

1. Соберите и запустите приложение с помощью Docker Compose:
   ```bash
   docker-compose up --build
   ```

2. Приложение будет доступно по адресу `http://localhost:3000`

3. **Важно**: При использовании Docker убедитесь, что бэкенд-сервис доступен. Конфигурация Docker включает ссылку на бэкенд-сервис с именем `backend` в той же Docker-сети. Если бэкенд работает вне Docker, возможно, потребуется настроить конфигурацию прокси в `nginx.conf`.

## Конфигурация окружения

Приложение использует следующие порты:

- **Фронтенд**: Порт 3000 (для разработки и продакшена)
- **Бэкенд API**: Порт 8765 (запросы проксируются с /api)

Во время разработки API-запросы автоматически проксируются с фронтенда на бэкенд-сервис по адресу `http://localhost:8765`.

## Доступные скрипты

- `npm run dev` - Запустить сервер разработки
- `npm run build` - Собрать приложение для продакшена
- `npm run lint` - Проверить код на ошибки линтинга
- `npm run lint:fix` - Автоматически исправить ошибки линтинга
- `npm run format` - Отформатировать код с помощью Prettier
- `npm run format:check` - Проверить форматирование кода

## Структура проекта

```
src/
├── api/                    # Клиент API и функции запросов
├── components/            # Переиспользуемые компоненты UI
├── contexts/              # Провайдеры React Context
├── hooks/                 # Пользовательские React хуки
├── i18n/                  # Файлы интернационализации
├── pages/                 # Страницы приложения
├── styles/                # CSS стили и темы
├── types/                 # Определения типов TypeScript
├── utils/                 # Вспомогательные функции
├── App.tsx               # Главный компонент приложения
└── main.tsx              # Точка входа в приложение
```

## Интеграция с API

Фронтенд взаимодействует с бэкендом через API-эндпоинты по пути `/api`. Во время разработки эти запросы проксируются на `http://localhost:8765`. В продакшене конфигурация Nginx обрабатывает проксирование на бэкенд-сервис.

## Конфигурация Docker

Приложение включает:

- Многоступенчатый Dockerfile для оптимизированных сборок
- Конфигурацию Docker Compose для простого развертывания
- Конфигурацию Nginx для обслуживания статических файлов и проксирования API

Настройка Docker включает:
- Этап сборки с Node.js для построения приложения
- Продуктовый этап с Nginx для обслуживания собранного приложения
- Конфигурацию прокси для API-запросов к бэкенд-сервису

## Устранение неполадок

### Распространенные проблемы

1. **Сбой API-запросов**: Убедитесь, что бэкенд-сервис запущен на порту 8765
2. **Ошибки CORS**: Проверьте, что бэкенд правильно настроен для приема запросов с фронтенда
3. **Сетевые проблемы Docker**: При использовании Docker убедитесь, что контейнеры фронтенда и бэкенда могут корректно взаимодействовать

### Сервер разработки

Если сервер разработки не запускается должным образом:
1. Убедитесь, что Node.js и npm установлены правильно
2. Очистите кэш npm: `npm cache clean --force`
3. Удалите node_modules и переустановите: `rm -rf node_modules && npm install`

## Участие в разработке

1. Сделайте форк репозитория
2. Создайте ветку для новой функции: `git checkout -b feature-name`
3. Внесите свои изменения
4. Зафиксируйте изменения: `git commit -m 'Add some feature'`
5. Отправьте в ветку: `git push origin feature-name`
6. Отправьте pull request

## Лицензия

Этот проект лицензирован под лицензией ISC.